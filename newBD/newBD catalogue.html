<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">


    <link rel="stylesheet" href="./css/NewBDcatalogue.css">
    <title>Les BDS</title>
</head>

<body>
    
    <div class="col">
                
        <div class="bg-Categories bg-light mb-3">

            <div class="categories">
                <h2>Tous nos produits</h2>
                <button type="button" class="btn btn-outline-dark d-none">Découvrir toutes nos promotions</button>
            </div><!--bouton caché d-none-->

            <input class="form-control col-11 col-lg-6 my-3 mx-3" id="searchInput" type="text" placeholder="Rechercher un produit, une série, un auteur..."> <!--la barre de recherche-->
            
                <!--La barre de filtrage-->
            <div id="myBtnContainer">
                <button class="btnTri active" onclick="filterSelection('all')">Afficher tous les albums</button>
                <button class="btnTri" onclick="filterSelection('Uderzo')"> Uderzo</button>
                <button class="btnTri" onclick="filterSelection('Charlier')"> Charlier</button>
            </div>


            <div class="row row-cols-2 row-cols-md-4 px-3" id="bdList"> <!--ID necessaire pour la recherche-->

                <div class="col mb-4">
                    <div class="card p-2 filterDiv">
                        <img src="./pictures/AstÇrix-06-AstÇrix et ClÇopatre.jpg" class="card-img-top" alt="...">
                        <div class="card-body text-center">
                            <h5 class="card-title">Astérix et Cléopatre</h5>
                            <h6 class="card-subtitle auteur">Goscinny et Uderzo</h6>
                            <h6 class="card-subtitle serie mt-2">Astérix et Obélix</h6>
                            <h6 class="card-title mt-2">Prix 12</h6>
                            <a href="#" class="btn btn-dark">Ajouter au panier</a>
                        </div>
                        <div class="card-footer bg-success text-white text-center">
                            En stock
                        </div>
                    </div>
                </div>

                <div class="col mb-4">
                    <div class="card p-2 filterDiv"> <!--id="divInter2"-->
                        <img src="./pictures/Blacksad-01-Quelque part entre les ombres.jpg" class="card-img-top" alt="...">
                        <div class="card-body text-center">
                            <h5 class="card-title">Astérix 2</h5>
                            <h6 class="card-subtitle auteur">Auteur 2</h6>
                            <h6 class="card-subtitle serie mt-2">Série 2</h6>
                            <h6 class="card-title mt-2">Prix 2</h6>
                            <a href="#" class="btn btn-dark">Ajouter au panier</a>
                        </div>
                        <div class="card-footer bg-success text-white text-center">
                            En stock
                        </div>
                    </div>
                </div>

                <div class="col mb-4">
                    <div class="card p-2 filterDiv Uderzo">
                        <img src="./pictures/Blueberry-02-Lhomme Ö lÇtoile dargent.jpg" class="card-img-top" alt="...">
                        <div class="card-body text-center">
                            <h5 class="card-title">Titre de la BD 3</h5>
                            <h6 class="card-subtitle auteur">Auteur 3</h6>
                            <h6 class="card-subtitle serie mt-2">Série 3</h6>
                            <h6 class="card-title mt-2">Prix 3</h6>
                            <a href="#" class="btn btn-dark">Ajouter au panier</a>
                        </div>
                        <div class="card-footer bg-success text-white text-center">
                            En stock
                        </div>
                    </div>
                </div>

                

                

            </div>
        </div>        
          
    </div>



    





    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    

    <script src="./data/albums.js"></script>
    <script src="./data/series.js" type="module"></script>
    <script src="./data/auteurs.js" type="module"></script>
    <script src="./js/newBDcatalogue.js" type="module"></script>


    <!--Concerne la recherche-->
    <script>
        $(document).ready(function(){
        $("#searchInput").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#bdList .col").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
        });
    
        filterSelection("all")
function filterSelection(c) {
  var x, i;
  x = document.getElementsByClassName("filterDiv");
  if (c == "all") c = "";
  // Add the "show" class (display:block) to the filtered elements, and remove the "show" class from the elements that are not selected
  for (i = 0; i < x.length; i++) {
    w3RemoveClass(x[i], "show");
    if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
  }
}

// Show filtered elements
function w3AddClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    if (arr1.indexOf(arr2[i]) == -1) {
      element.className += " " + arr2[i];
    }
  }
}

// Hide elements that are not selected
function w3RemoveClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    while (arr1.indexOf(arr2[i]) > -1) {
      arr1.splice(arr1.indexOf(arr2[i]), 1); 
    }
  }
  element.className = arr1.join(" ");
}

// Add active class to the current control button (highlight it)
var btnContainer = document.getElementById("myBtnContainer");
var btns = btnContainer.getElementsByClassName("btn");
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function() {
    var current = document.getElementsByClassName("active");
    current[0].className = current[0].className.replace(" active", "");
    this.className += " active";
  });
}
    
    
    
    
    
    
    </script>
</body>

</html>